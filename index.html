<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>KissanConnect ‚Äî Modern Farmer Portal</title>
  <meta name="description" content="KissanConnect ‚Äî a modern, professional portal connecting farmers and buyers." />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .grad-green { background: linear-gradient(90deg,#0f766e,#16a34a); }
    #chatbot-box { width: 360px; max-width: calc(100% - 32px); }
    .modal-backdrop { background: rgba(0,0,0,0.4); }
    @media (max-width: 640px) { #chatbot-box { right: 12px; left: 12px; width: auto; bottom: 80px; } }
  </style>
</head>
<body class="antialiased text-gray-800 bg-gray-50">
  <header class="grad-green text-white">
    <div class="max-w-6xl mx-auto px-6 py-4 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <img src="./logo.svg" alt="KissanConnect" class="h-11 w-11 rounded-md bg-white/10 p-1"/>
        <div>
          <h1 class="font-bold text-lg">KissanConnect</h1>
          <p class="text-xs -mt-1 opacity-90">Smart tools for modern agriculture</p>
        </div>
      </div>

      <nav class="hidden md:flex gap-6 items-center text-sm">
        <a href="#features" class="hover:underline">Features</a>
        <a href="#marketplace" class="hover:underline">Marketplace</a>
        <a href="#schemes" class="hover:underline">Schemes</a>
        <a href="#diseases" class="hover:underline">Crop Disease</a>
        <a href="#soil" class="hover:underline">Soil Support</a>
        <a href="#contact" class="hover:underline">Contact</a>
      </nav>

      <button id="menuBtn" class="md:hidden p-2" aria-label="Toggle menu">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
        </svg>
      </button>
    </div>
  </header>

  <main class="max-w-6xl mx-auto px-6 py-12">
    <!-- Hero omitted for brevity - same content -->
    <section class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
      <div>
        <h2 class="text-4xl lg:text-5xl font-extrabold leading-tight mb-4">Powerful tools for farmers, built with care.</h2>
        <p class="text-gray-700 mb-6">KissanConnect helps farmers list produce, discover markets, and access localized insights ‚Äî all via a simple, mobile-first experience.</p>
        <div class="flex flex-wrap gap-3">
          <a href="#marketplace" class="inline-block bg-green-600 text-white px-5 py-3 rounded-md shadow hover:scale-105 transform transition">Explore Marketplace</a>
          <a href="#contact" class="inline-block border border-gray-200 px-5 py-3 rounded-md text-gray-700 hover:bg-gray-100 transition">Request a Demo</a>
        </div>
      </div>
      <div class="flex justify-center">
        <img src="./hero.svg" alt="Hero illustration" class="max-w-lg w-full rounded-lg shadow-lg bg-white p-6"/>
      </div>
    </section>

    <!-- Soil Support with Find Soil Lab button -->
    <section id="soil" class="mt-16">
      <div class="flex items-center justify-between mb-4">
        <h3 class="text-2xl font-bold">Soil Health & Support</h3>
        <a href="https://soilhealth.dac.gov.in/" target="_blank" class="text-sm text-green-600">Visit Soil Health Portal ‚Üí</a>
      </div>
      <p class="text-sm text-gray-600 mb-4">Simple soil tests and recommendations to improve fertility and yield.</p>
      <div class="flex gap-3 mb-4">
        <a href="https://soilhealth.dac.gov.in/" target="_blank" class="inline-block bg-green-600 text-white px-5 py-2 rounded-md shadow hover:bg-green-700 transition">üîç Find Soil Lab</a>
        <button id="reportBtn" class="bg-red-600 text-white px-5 py-2 rounded-md shadow hover:bg-red-700 transition">üö® Report an Issue</button>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <div class="bg-white p-5 rounded-md shadow">
          <h4 class="font-semibold">Soil Testing</h4>
          <p class="text-sm text-gray-600 mt-2">Collect samples from multiple spots (0‚Äì15 cm depth). Use local soil labs or mobile test kits.</p>
        </div>
        <div class="bg-white p-5 rounded-md shadow">
          <h4 class="font-semibold">Nutrient Balance</h4>
          <p class="text-sm text-gray-600 mt-2">Follow NPK recommendations based on soil test. Apply organic matter to improve structure.</p>
        </div>
        <div class="bg-white p-5 rounded-md shadow">
          <h4 class="font-semibold">Soil Conservation</h4>
          <p class="text-sm text-gray-600 mt-2">Use cover crops, contour farming and mulching to prevent erosion and preserve moisture.</p>
        </div>
      </div>
    </section>

    <!-- ... rest of content omitted for brevity; keep other sections as before ... -->

    <footer class="mt-12 text-center text-sm text-gray-500">
      ¬© 2025 KissanConnect ¬∑ Built for farmers & buyers
    </footer>
  </main>

  <!-- Report Issue Modal -->
  <div id="modal" class="hidden fixed inset-0 z-50 flex items-center justify-center">
    <div class="modal-backdrop absolute inset-0"></div>
    <div class="relative bg-white rounded-lg shadow-lg w-full max-w-xl mx-4 z-60 overflow-hidden">
      <div class="p-4 border-b flex items-center justify-between">
        <h3 class="font-semibold">Report an Issue</h3>
        <button id="modalClose" class="text-gray-500 hover:text-gray-700">‚úï</button>
      </div>
      <div class="p-4">
        <p class="text-sm text-gray-600 mb-3">Describe the issue you faced (we will open your email client to send this report).</p>
        <form id="reportForm" class="space-y-3">
          <input id="reportName" type="text" placeholder="Your name" class="w-full p-3 border rounded" required />
          <input id="reportEmail" type="email" placeholder="Your email" class="w-full p-3 border rounded" required />
          <select id="reportType" class="w-full p-3 border rounded">
            <option value="site">Site Issue</option>
            <option value="disease">Crop Disease</option>
            <option value="soil">Soil Lab</option>
            <option value="other">Other</option>
          </select>
          <textarea id="reportMsg" placeholder="Describe the issue in detail" rows="4" class="w-full p-3 border rounded" required></textarea>
          <div class="flex items-center justify-end gap-3">
            <button type="button" id="modalCancel" class="px-4 py-2 rounded border">Cancel</button>
            <button type="submit" class="px-4 py-2 rounded bg-green-600 text-white">Send Report</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Chatbot (unchanged) -->
  <div id="chatbot-btn" title="Open chat" class="fixed bottom-5 right-5 z-50">
    <button class="bg-green-600 text-white p-4 rounded-full shadow-lg hover:scale-105 transform transition">üí¨</button>
  </div>
  <div id="chatbot-box" class="hidden fixed bottom-20 right-5 z-50 bg-white border rounded-lg shadow-lg overflow-hidden">
    <div class="p-3 border-b bg-green-600 text-white font-semibold flex items-center justify-between">
      <div>KissanConnect Chatbot</div>
      <button id="chatbot-close" class="text-white/90 hover:text-white">‚úï</button>
    </div>
    <div id="chat-content" class="p-3 h-64 overflow-y-auto text-sm text-gray-700"></div>
    <div class="p-3 border-t">
      <div class="flex gap-2">
        <input id="chat-input" type="text" placeholder="Ask about schemes, diseases, soil..." class="flex-1 p-2 border rounded" />
        <button id="chat-send" class="bg-green-600 text-white px-3 py-2 rounded">Send</button>
      </div>
    </div>
  </div>

  <script>
    // basic UI handlers
    document.getElementById('menuBtn').addEventListener('click', function(){ const nav = document.querySelector('nav'); if(nav) nav.classList.toggle('hidden'); });

    // modal open/close
    const reportBtn = document.getElementById('reportBtn');
    const modal = document.getElementById('modal');
    const modalClose = document.getElementById('modalClose');
    const modalCancel = document.getElementById('modalCancel');
    reportBtn.addEventListener('click', ()=> modal.classList.remove('hidden'));
    modalClose.addEventListener('click', ()=> modal.classList.add('hidden'));
    modalCancel.addEventListener('click', ()=> modal.classList.add('hidden'));

    // report form -> mailto
    const reportForm = document.getElementById('reportForm');
    reportForm.addEventListener('submit', function(e){
      e.preventDefault();
      const name = document.getElementById('reportName').value.trim();
      const email = document.getElementById('reportEmail').value.trim();
      const type = document.getElementById('reportType').value;
      const msg = document.getElementById('reportMsg').value.trim();
      const subject = encodeURIComponent(`KissanConnect Issue Report: ${type}`);
      const body = encodeURIComponent(`Name: ${name}%0AEmail: ${email}%0AType: ${type}%0A%0AMessage:%0A${msg}`);
      const mailto = `mailto:support@kissanconnect.example?subject=${subject}&body=${body}`;
      // open mail client
      window.location.href = mailto;
      // close modal after short delay
      setTimeout(()=> modal.classList.add('hidden'), 500);
    });

    // chatbot (simple)
    const chatbotBtn = document.getElementById('chatbot-btn');
    const chatbotBox = document.getElementById('chatbot-box');
    const chatbotClose = document.getElementById('chatbot-close');
    const chatContent = document.getElementById('chat-content');
    const chatInput = document.getElementById('chat-input');
    const chatSend = document.getElementById('chat-send');
    function appendMessage(who, html){ const div = document.createElement('div'); div.className = who === 'bot' ? 'mb-3 p-2 bg-green-50 rounded' : 'mb-3 p-2 bg-gray-100 rounded'; div.innerHTML = html; chatContent.appendChild(div); chatContent.scrollTop = chatContent.scrollHeight; }
    chatbotBtn.addEventListener('click', () => { chatbotBox.classList.toggle('hidden'); chatInput.focus(); if(chatContent.innerHTML.trim() === '') { appendMessage('bot','<strong>Hi!</strong> I am the KissanConnect assistant. Ask about schemes, crop diseases, or soil tips.'); } });
    if(chatbotClose) chatbotClose.addEventListener('click', ()=> chatbotBox.classList.add('hidden'));
    function botReply(input){ const text = input.toLowerCase(); if(text.includes('scheme')||text.includes('insurance')||text.includes('pm-kisan')) return 'Check the Government Schemes section. Try searching "insurance" or "subsidy".'; if(text.includes('disease')||text.includes('leaf')||text.includes('blight')) return 'See the Crop Disease & Prevention section for common symptoms and prevention steps; contact extension for lab confirmation.'; if(text.includes('soil')||text.includes('ph')||text.includes('nutrient')) return 'Collect a soil sample (0-15cm) and test at a local lab. Use NPK recommendations from soil report.'; if(text.includes('weather')||text.includes('forecast')) return 'Local weather is shown in Insights ‚Äî integrate OpenWeatherMap for live data.'; if(text.includes('turmeric')||text.includes('wheat')||text.includes('rice')) return 'Crop-specific advice varies by season and soil. Consider soil testing and local advisories.'; return "I didn't understand that. Try asking about 'schemes', 'disease', or 'soil'."; }
    function sendChat(){ const txt = chatInput.value.trim(); if(!txt) return; appendMessage('user','<strong>You:</strong> '+txt); chatInput.value=''; appendMessage('bot','<em>thinking‚Ä¶</em>'); setTimeout(()=>{ const last = chatContent.lastChild; if(last && last.innerHTML.includes('thinking')) last.remove(); appendMessage('bot','<strong>Bot:</strong> '+botReply(txt)); },700); }
    if(chatSend) chatSend.addEventListener('click', sendChat);
    if(chatInput) chatInput.addEventListener('keydown', function(e){ if(e.key==='Enter') sendChat(); });
  </script>
</body>
</html>
